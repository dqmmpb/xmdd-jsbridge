"use strict";$(function(){function n(){try{var n=navigator.userAgent||navigator.vendor||window.opera;if(null!=n){var t=n.toLowerCase();/ip(hone|od|ad|os)/i.test(t)?/micromessenger/i.test(t)?location.href="http://a.app.qq.com/o/simple.jsp?pkgname=com.huika.o2o.android.xmdd":location.href="https://itunes.apple.com/cn/app/xiao-ma-da-da-xi-che-zhi-yao1fen/id991665445&mt=8":/micromessenger/i.test(t)?location.href="http://a.app.qq.com/o/simple.jsp?pkgname=com.huika.o2o.android.xmdd":location.href="http://www.xiaomadada.com/paaweb/general/download"}}catch(a){console.log(a)}}connectWebViewJavascriptBridge(function(t){function a(n){var a={};a.message=n,t.callHandler("sendToastMsg",a,function(n){})}t.registerHandler("returnBackHandler",function(n,t){var a={};a.isFirstPage="true",t(a)}),t.registerHandler("modalHandler",function(t,a){"string"==typeof t&&(t=JSON.parse(t));var e=t.modalId;if("modalUpdate1"===e){var r=t.value;1===r&&n()}var i={};i.value=0,i.modalId="modal1",a(i)}),t.registerHandler("loginHandler",function(n,t){"string"==typeof n&&(n=JSON.parse(n));var a=n.token,e=(n.phone,n.triggerId);$("#token").val(a),$("#trigger").val(e),$("#respData").val(n);var r={};r.triggerId="btnlogin",t(r)}),t.registerHandler("addCarHandler",function(n,t){"string"==typeof n&&(n=JSON.parse(n));var a=n.triggerId;if("btnAddCar"===a){n.carId;$("#info").html(JSON.stringify(n))}var e={};e.triggerId="btnAddCar",t(e)}),t.registerHandler("barNavBtnHandler",function(n,a){"string"==typeof n&&(n=JSON.parse(n)),t.callHandler("getUserToken",null,function(a){if(null==a){var e={triggerId:"btnLogin"};return void t.callHandler("login",e,function(n){})}"string"==typeof a&&(a=JSON.parse(a));var r=a,i=r.token,l=(r.phone,n.triggerId);$("#token").val(i),$("#trigger").val(l),$("#respData").val(r)});var e={};e.triggerId="true",a(e)}),$(".btn-getoken").bind("click",function(n){t.callHandler("getUserToken",null,function(n){if(null==n){var a={triggerId:"btnLogin"};return void t.callHandler("login",a,function(n){})}var e=JSON.parse(n),r=e.token,i=(e.phone,e.triggerId);$("#token").val(r),$("#trigger").val(i),$("#respData").val(e),window.location.href="second.html"})}),$(".btn-go").bind("click",function(n){t.callHandler("getUserToken",null,function(n){if(null==n){var a={triggerId:"btnLogin"};return void t.callHandler("login",a,function(n){})}var e=JSON.parse(n),r=e.token;e.phone;$("#token").val(r),$("#trigger").val("")})}),t.registerHandler("barNavBtnHandler",function(n,a){"string"==typeof n&&(n=JSON.parse(n)),"btnMap"===n.triggerId?t.callHandler("getUserToken",null,function(n){if(null==n){var a={triggerId:"btnLogin"};return void t.callHandler("login",a,function(n){})}"string"==typeof n&&(n=JSON.parse(n));var e=n,r=e.token,i=(e.phone,e.triggerId);$("#token").val(r),$("#trigger").val(i),$("#respData").val(e)}):"btnRefresh"===n.triggerId&&window.location.reload();var e={};e.triggerId="true",a(e)}),$(".btn-barNavBtn").click(function(){var n={position:"right",triggerId:"btnMap",icon:"http://7xjclc.com1.z0.glb.clouddn.com/%E5%AF%BC%E8%88%AA@3x.png",title:"附近",type:"0"};t.callHandler("barNavBtn",n,function(n){})}),$(".btn-barRefreshBtn").click(function(){var n={position:"right",triggerId:"btnRefresh",icon:"http://7xjclc.com1.z0.glb.clouddn.com/%E5%AF%BC%E8%88%AA@3x.png",title:"刷新",type:"0"};t.callHandler("barNavBtn",n,function(n){})}),$(".btn-barNavBtn2").click(function(){var n={position:"right",triggerId:"btnMap",icon:"xm-icon-map",title:"",type:"-1"};t.callHandler("barNavBtn",n,function(n){})}),$(".btn-share").bind("click",function(n){var a=[];a.push("1"),t.callHandler("setOptionMenu",a,function(n){}),t.registerHandler("getShareParamHandler",function(n,t){var a={};a.title="浙商银行汽车卡申请",a.desc="车主福利，汽车卡来袭！属于车主的信用卡，各种优惠等您来享！",a.linkUrl="http://www.xiaomadada.com/credit/ccamobile?f=share",a.imgUrl="http://7xjclc.com2.z0.glb.clouddn.com/1012.png",a.imgUrlWb="http://7xjclc.com2.z0.glb.clouddn.com/1012-wb.png",a.buttons=[1,2,3,4],t(a)})}),$(".btn-openView").click(function(){var n={url:"http://www.xiaomadada.com"};t.callHandler("openView",n,function(n){})}),$(".btn-toast").click(function(){a("成功")}),$(".btn-position").click(function(){t.callHandler("getCurrentPosition",null,function(n){a(n)})}),$(".btn-netState").click(function(){t.callHandler("callForNetworkState",null,function(n){a(n)})}),$(".btn-callPhone").click(function(){var n={};n.phoneNum="110",JSON.stringify(n),t.callHandler("getPhoneCall",n,function(n){})});var e=function(n){var a=n.currentTarget,e={};e.imgId=a.id,e.type="2",e.width="200",e.height="200",e.uploadUrl="http://dev01.xiaomadada.com/paa/rest/api/fileupload",t.callHandler("selectSingleImage",e,function(n){})};t.registerHandler("singleImageBefore",function(n,t){var a=JSON.parse(n);"#"+a.imgId;t(null)}),t.registerHandler("singleImageBack",function(n,t){"string"==typeof n&&(n=JSON.parse(n)),null!==n.imageUrl&&""!==n.imageUrl?(a("上传成功"),$(".img-uploadImg").attr("src",n.imageCodeStr)):a("上传失败"),t(null)}),$(".btn-uploadImg").bind("click",e),$(".btn-modal").bind("click",function(n){var a={modalId:"modal1",title:"警告",text:"用户名不存在",type:"0",buttons:[{text:"好的",value:0},{text:"确1定",value:1},{text:"待2定",value:2}]};t.callHandler("modal",a,function(n){})}),$(".btn-navi").bind("click",function(n){var a={distination:"117.500244,40.417801",name:"小马达达国际研发中心"};t.callHandler("navi",a,function(n){})}),$(".btn-login").bind("click",function(n){t.callHandler("getUserToken",null,function(n){if(null==n){var a={triggerId:"btnLogin"};return void t.callHandler("login",a,function(n){})}var e=JSON.parse(n),r=e.token,i=(e.phone,e.triggerId);$("#token").val(r),$("#trigger").val(i),$("#respData").val(e)})}),$(".btn-custom-share").bind("click",function(n){t.registerHandler("getShareParamHandler",function(n,t){var a={};a.title="浙商银行汽车卡申请",a.desc="车主福利，汽车卡来袭！属于车主的信用卡，各种优惠等您来享！",a.linkUrl="http://www.baidu.com",a.imgUrl="http://7xjclc.com2.z0.glb.clouddn.com/1012.png",a.imgUrlWb="http://7xjclc.com2.z0.glb.clouddn.com/1012-wb.png",a.buttons=[1,2,3,4],t(a)}),t.callHandler("callShareAction",{},function(n){})}),$(".btn-update-guide").bind("click",function(n){var a=(navigator.userAgent,window.navigator.userAgent,{modalId:"modalUpdate1",title:"温馨提示",text:"您的版本太低啦，赶快升级最新版本享受更多优质服务！",type:"0",buttons:[{text:"忽略",value:0},{text:"前去更新",value:1}]});t.callHandler("modal",a,function(n){})}),$(".btn-addCar").bind("click",function(n){var a={triggerId:"btnAddCar"};t.callHandler("addCar",a,function(n){})})})});