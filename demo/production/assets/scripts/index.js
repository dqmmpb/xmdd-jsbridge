"use strict";$(function(){function n(){try{var n=navigator.userAgent||navigator.vendor||window.opera;if(null!=n){var t=n.toLowerCase();/ip(hone|od|ad|os)/i.test(t)?/micromessenger/i.test(t)?location.href="http://a.app.qq.com/o/simple.jsp?pkgname=com.huika.o2o.android.xmdd":location.href="https://itunes.apple.com/cn/app/xiao-ma-da-da-xi-che-zhi-yao1fen/id991665445&mt=8":/micromessenger/i.test(t)?location.href="http://a.app.qq.com/o/simple.jsp?pkgname=com.huika.o2o.android.xmdd":location.href="http://www.xiaomadada.com/paaweb/general/download"}}catch(e){console.log(e)}}connectWebViewJavascriptBridge(function(t){function e(n){var e={};e.message=n,t.callHandler("sendToastMsg",e,function(n){})}t.registerHandler("returnBackHandler",function(n,t){var e={};e.isFirstPage="true",t(e)}),t.registerHandler("modalHandler",function(t,e){"string"==typeof t&&(t=JSON.parse(t));var a=t.modalId;if("modalUpdate1"===a){var r=t.value;1===r&&n()}var i={};i.value=0,i.modalId="modal1",e(i)}),t.registerHandler("loginHandler",function(n,t){"string"==typeof n&&(n=JSON.parse(n));var e=n.token,a=(n.phone,n.triggerId);$("#token").val(e),$("#trigger").val(a),$("#respData").val(n);var r={};r.triggerId="btnlogin",t(r)}),t.registerHandler("barNavBtnHandler",function(n,e){"string"==typeof n&&(n=JSON.parse(n)),t.callHandler("getUserToken",null,function(n){if(null==n){var e={triggerId:"btnLogin"};return void t.callHandler("login",e,function(n){})}"string"==typeof n&&(n=JSON.parse(n));var a=n,r=a.token,i=(a.phone,a.triggerId);$("#token").val(r),$("#trigger").val(i),$("#respData").val(a)});var a={};a.triggerId="true",e(a)}),$(".btn-getoken").bind("click",function(n){t.callHandler("getUserToken",null,function(n){if(null==n){var t=$.jsBridge({id:"jsBridgeForm",method:"GET",action:"xmdd://j",inputs:[{name:"t",value:"login"}]});return void $.submitJsBridgeForm(t)}var e=JSON.parse(n),a=e.token,r=(e.phone,e.triggerId);$("#token").val(a),$("#trigger").val(r),$("#respData").val(e),window.location.href="second.html"})}),$(".btn-go").bind("click",function(n){t.callHandler("getUserToken",null,function(n){if(null==n){var t=$.jsBridge({id:"jsBridgeForm",method:"GET",action:"xmdd://j",inputs:[{name:"t",value:"login"}]});return void $.submitJsBridgeForm(t)}var e=JSON.parse(n),a=e.token;e.phone;$("#token").val(a),$("#trigger").val("")})}),t.registerHandler("barNavBtnHandler",function(n,e){"string"==typeof n&&(n=JSON.parse(n)),"btnMap"===n.triggerId?t.callHandler("getUserToken",null,function(n){if(null==n){var e={triggerId:"btnLogin"};return void t.callHandler("login",e,function(n){})}"string"==typeof n&&(n=JSON.parse(n));var a=n,r=a.token,i=(a.phone,a.triggerId);$("#token").val(r),$("#trigger").val(i),$("#respData").val(a)}):"btnRefresh"===n.triggerId&&window.location.reload();var a={};a.triggerId="true",e(a)}),$(".btn-barNavBtn").click(function(){var n={position:"right",triggerId:"btnMap",icon:"http://7xjclc.com1.z0.glb.clouddn.com/%E5%AF%BC%E8%88%AA@3x.png",title:"附近",type:"0"};t.callHandler("barNavBtn",n,function(n){})}),$(".btn-barRefreshBtn").click(function(){var n={position:"right",triggerId:"btnRefresh",icon:"http://7xjclc.com1.z0.glb.clouddn.com/%E5%AF%BC%E8%88%AA@3x.png",title:"刷新",type:"0"};t.callHandler("barNavBtn",n,function(n){})}),$(".btn-barNavBtn2").click(function(){var n={position:"right",triggerId:"btnMap",icon:"xm-icon-map",title:"",type:"-1"};t.callHandler("barNavBtn",n,function(n){})}),$(".btn-share").bind("click",function(n){var e=[];e.push("1"),t.callHandler("setOptionMenu",e,function(n){}),t.registerHandler("getShareParamHandler",function(n,t){var e={};e.title="浙商银行汽车卡申请",e.desc="车主福利，汽车卡来袭！属于车主的信用卡，各种优惠等您来享！",e.linkUrl="http://www.xiaomadada.com/credit/ccamobile?f=share",e.imgUrl="http://7xjclc.com2.z0.glb.clouddn.com/1012.png",e.imgUrlWb="http://7xjclc.com2.z0.glb.clouddn.com/1012-wb.png",e.buttons=[1,2,3,4],t(e)})}),$(".btn-openView").click(function(){var n={url:"http://www.xiaomadada.com"};t.callHandler("openView",n,function(n){})}),$(".btn-toast").click(function(){e("成功")}),$(".btn-position").click(function(){t.callHandler("getCurrentPosition",null,function(n){e(n)})}),$(".btn-netState").click(function(){t.callHandler("callForNetworkState",null,function(n){e(n)})}),$(".btn-callPhone").click(function(){var n={};n.phoneNum="110",JSON.stringify(n),t.callHandler("getPhoneCall",n,function(n){})});var a=function(n){var e=n.currentTarget,a={};a.imgId=e.id,a.type="2",a.width="200",a.height="200",a.uploadUrl="http://dev01.xiaomadada.com/paa/rest/api/fileupload",t.callHandler("selectSingleImage",a,function(n){})};t.registerHandler("singleImageBefore",function(n,t){var e=JSON.parse(n);"#"+e.imgId;t(null)}),t.registerHandler("singleImageBack",function(n,t){"string"==typeof n&&(n=JSON.parse(n)),null!==n.imageUrl&&""!==n.imageUrl?(e("上传成功"),$(".img-uploadImg").attr("src",n.imageCodeStr)):e("上传失败"),t(null)}),$(".btn-uploadImg").bind("click",a),$(".btn-modal").bind("click",function(n){var e={modalId:"modal1",title:"警告",text:"用户名不存在",type:"0",buttons:[{text:"取0消",value:0},{text:"确1定",value:1},{text:"待2定",value:2}]};t.callHandler("modal",e,function(n){})}),$(".btn-navi").bind("click",function(n){var e={distination:"117.500244,40.417801",name:"小马达达国际研发中心"};t.callHandler("navi",e,function(n){})}),$(".btn-login").bind("click",function(n){t.callHandler("getUserToken",null,function(n){if(null==n){var e={triggerId:"btnLogin"};return void t.callHandler("login",e,function(n){})}var a=JSON.parse(n),r=a.token,i=(a.phone,a.triggerId);$("#token").val(r),$("#trigger").val(i),$("#respData").val(a)})}),$(".btn-custom-share").click(function(){t.registerHandler("getShareParamHandler",function(n,t){var e={};e.title="浙商银行汽车卡申请",e.desc="车主福利，汽车卡来袭！属于车主的信用卡，各种优惠等您来享！",e.linkUrl="http://www.baidu.com",e.imgUrl="http://7xjclc.com2.z0.glb.clouddn.com/1012.png",e.imgUrlWb="http://7xjclc.com2.z0.glb.clouddn.com/1012-wb.png",e.buttons=[1,2,3,4],t(e)}),t.callHandler("callShareAction",{},function(n){})}),$(".btn-update-guide").click(function(){var n=(navigator.userAgent,window.navigator.userAgent,{modalId:"modalUpdate1",title:"温馨提示",text:"您的版本太低啦，赶快升级最新版本享受更多优质服务！",type:"0",buttons:[{text:"忽略",value:0},{text:"前去更新",value:1}]});t.callHandler("modal",n,function(n){})})})});