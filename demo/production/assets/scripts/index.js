"use strict";$(function(){connectWebViewJavascriptBridge(function(n){function t(t){var e={};e.message=t,n.callHandler("sendToastMsg",e,function(n){})}n.registerHandler("modalHandler",function(n,t){var e={};e.value=0,e.modalId="modal1",t(e)}),n.registerHandler("loginHandler",function(n,t){"string"==typeof n&&(n=JSON.parse(n));var e=n.token,r=(n.phone,n.triggerId);$("#token").val(e),$("#trigger").val(r),$("#respData").val(n);var a={};a.triggerId="btnlogin",t(a)}),n.registerHandler("barNavBtnHandler",function(t,e){"string"==typeof t&&(t=JSON.parse(t)),n.callHandler("getUserToken",null,function(t){if(null==t){var e={triggerId:"btnLogin"};return void n.callHandler("login",e,function(n){})}"string"==typeof t&&(t=JSON.parse(t));var r=t,a=r.token,i=(r.phone,r.triggerId);$("#token").val(a),$("#trigger").val(i),$("#respData").val(r)});var r={};r.triggerId="true",e(r)}),$(".btn-getoken").bind("click",function(t){n.callHandler("getUserToken",null,function(n){if(null==n){var t=$.jsBridge({id:"jsBridgeForm",method:"GET",action:"xmdd://j",inputs:[{name:"t",value:"login"}]});return void $.submitJsBridgeForm(t)}var e=JSON.parse(n),r=e.token,a=(e.phone,e.triggerId);$("#token").val(r),$("#trigger").val(a),$("#respData").val(e),window.location.href="second.html"})}),$(".btn-go").bind("click",function(t){n.callHandler("getUserToken",null,function(n){if(null==n){var t=$.jsBridge({id:"jsBridgeForm",method:"GET",action:"xmdd://j",inputs:[{name:"t",value:"login"}]});return void $.submitJsBridgeForm(t)}var e=JSON.parse(n),r=e.token;e.phone;$("#token").val(r),$("#trigger").val("")})}),n.registerHandler("barNavBtnHandler",function(t,e){"string"==typeof t&&(t=JSON.parse(t)),"btnMap"===t.triggerId?n.callHandler("getUserToken",null,function(t){if(null==t){var e={triggerId:"btnLogin"};return void n.callHandler("login",e,function(n){})}"string"==typeof t&&(t=JSON.parse(t));var r=t,a=r.token,i=(r.phone,r.triggerId);$("#token").val(a),$("#trigger").val(i),$("#respData").val(r)}):"btnRefresh"===t.triggerId&&window.location.reload();var r={};r.triggerId="true",e(r)}),$(".btn-barNavBtn").click(function(){var t={position:"right",triggerId:"btnMap",icon:"http://7xjclc.com1.z0.glb.clouddn.com/%E5%AF%BC%E8%88%AA@3x.png",title:"附近",type:"0"};n.callHandler("barNavBtn",t,function(n){})}),$(".btn-barRefreshBtn").click(function(){var t={position:"right",triggerId:"btnRefresh",icon:"http://7xjclc.com1.z0.glb.clouddn.com/%E5%AF%BC%E8%88%AA@3x.png",title:"刷新",type:"0"};n.callHandler("barNavBtn",t,function(n){})}),$(".btn-barNavBtn2").click(function(){var t={position:"right",triggerId:"btnMap",icon:"xm-icon-map",title:"",type:"-1"};n.callHandler("barNavBtn",t,function(n){})}),$(".btn-share").bind("click",function(t){var e=[];e.push("1"),n.callHandler("setOptionMenu",e,function(n){}),n.registerHandler("getShareParamHandler",function(n,t){var e={};e.title="浙商银行汽车卡申请",e.desc="车主福利，汽车卡来袭！属于车主的信用卡，各种优惠等您来享！",e.linkUrl="http://www.xiaomadada.com/credit/ccamobile?f=share",e.imgUrl="http://7xjclc.com2.z0.glb.clouddn.com/1012.png",e.imgUrlWb="http://7xjclc.com2.z0.glb.clouddn.com/1012-wb.png",e.buttons=[1,2,3,4],t(e)})}),$(".btn-openView").click(function(){var t={url:"http://www.xiaomadada.com"};n.callHandler("openView",t,function(n){})}),$(".btn-toast").click(function(){t("成功")}),$(".btn-position").click(function(){n.callHandler("getCurrentPosition",null,function(n){t(n)})}),$(".btn-netState").click(function(){n.callHandler("callForNetworkState",null,function(n){t(n)})}),$(".btn-callPhone").click(function(){var t={};t.phoneNum="110",JSON.stringify(t),n.callHandler("getPhoneCall",t,function(n){})});var e=function(t){var e=t.currentTarget,r={};r.imgId=e.id,r.type="2",r.width="200",r.height="200",r.uploadUrl="http://dev01.xiaomadada.com/paa/rest/api/fileupload",n.callHandler("selectSingleImage",r,function(n){})};n.registerHandler("singleImageBefore",function(n,t){var e=JSON.parse(n);"#"+e.imgId;t(null)}),n.registerHandler("singleImageBack",function(n,e){"string"==typeof n&&(n=JSON.parse(n)),null!==n.imageUrl&&""!==n.imageUrl?(t("上传成功"),$(".img-uploadImg").attr("src",n.imageCodeStr)):t("上传失败"),e(null)}),$(".btn-uploadImg").bind("click",e),$(".btn-modal").bind("click",function(t){var e={modalId:"modal1",title:"警告",text:"用户名不存在",type:"0",buttons:[{text:"取0消",value:0},{text:"确1定",value:1},{text:"待2定",value:2}]};n.callHandler("modal",e,function(n){})}),$(".btn-navi").bind("click",function(t){var e={distination:"117.500244,40.417801",name:"小马达达国际研发中心"};n.callHandler("navi",e,function(n){})}),$(".btn-login").bind("click",function(t){n.callHandler("getUserToken",null,function(t){if(null==t){var e={triggerId:"btnLogin"};return void n.callHandler("login",e,function(n){})}var r=JSON.parse(t),a=r.token,i=(r.phone,r.triggerId);$("#token").val(a),$("#trigger").val(i),$("#respData").val(r)})}),n.registerHandler("returnBackHandler",function(n,t){var e={};e.isFirstPage="true",t(e)})})});