"use strict";function connectWebViewJavascriptBridge(t){window.WebViewJavascriptBridge?t(WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",function(){t(WebViewJavascriptBridge)},!1)}function thirdPartyPageTest(t){var r={};return r.isThirdPartyPage=!1,JSON.stringify(r)}function JsBridge(t){this.bridge=t,this.init.apply(this,arguments)}connectWebViewJavascriptBridge(function(t){if(t.init(function(t,r){r(null)}),/(Android)/i.test(navigator.userAgent)){var r={};r.isThirdPartyPage=!1,t.callHandler("thirdPartyPageNotify",r,function(t){})}}),function(t){var r={id:"jsBridgeForm",method:"GET",action:"xmdd://j",formContainer:document.body,input:{name:"t",type:"hidden",value:""}};t.jsBridgeForm=function(e){e=t.extend({},r,e);var n="",i='<input type="'+r.input.type+'" name="random" value="'+Date.parse(new Date)+Math.random().toFixed(4)+'"/>';if(e.inputs&&e.inputs.length>0)for(var o=0;o<e.inputs.length;o++)n+='<input type="'+(e.inputs[o].type||r.input.type)+'" name="'+(e.inputs[o].name||r.input.name)+'" value="'+(e.inputs[o].value||r.input.value)+'"/>';var a='<form id="'+e.id+'" method="'+e.method+'" action="'+e.action+'">'+i+n+"</form>",p=t("#"+e.id);return t.removeJsBridgeForm(p),p=t(a),t(r.formContainer).append(p),p},t.submitJsBridgeForm=function(r){r=t(r),"undefined"!=typeof r&&0===r.length||r.submit()},t.removeJsBridgeForm=function(r){r=t(r),r.remove()}}(jQuery),JsBridge.prototype.setOptionMenu=function(t){var r=this.bridge;r.callHandler("setOptionMenu",t,function(t){})},JsBridge.prototype.toastMsg=function(t){var r=this.bridge,e={message:t};r.callHandler("sendToastMsg",e,function(t){})},JsBridge.prototype.openView=function(t){var r=this.bridge,e={url:t};r.callHandler("openView",e,function(t){})},JsBridge.prototype.loginHandler=function(t,r){var e=Array.prototype.slice.call(arguments,2),n=this.bridge;n.registerHandler("loginHandler",function(n,i){"string"==typeof n&&(n=JSON.parse(n)),"function"==typeof r&&r.apply(t,Array.prototype.concat(n,e));var o={};o.triggerId="btnLogin",i(o)})},JsBridge.prototype.login=function(t,r,e){var n=Array.prototype.slice.call(arguments,3),i=this.bridge,o={triggerId:t};i.callHandler("login",o,function(t){}),"function"==typeof e&&e.apply(r,Array.prototype.concat(t,n))},JsBridge.prototype.addCarHandler=function(t,r){var e=Array.prototype.slice.call(arguments,2),n=this.bridge;n.registerHandler("addCarHandler",function(n,i){"string"==typeof n&&(n=JSON.parse(n)),"function"==typeof r&&r.apply(t,Array.prototype.concat(n,e));var o={};o.triggerId="btnAddCar",i(o)})},JsBridge.prototype.addCar=function(t,r,e){var n=Array.prototype.slice.call(arguments,3),i=this.bridge,o={triggerId:t};i.callHandler("addCar",o,function(t){}),"function"==typeof e&&e.apply(r,Array.prototype.concat(t,n))},JsBridge.prototype.returnBackHandler=function(t,r,e){var n=Array.prototype.slice.call(arguments,3),i=this.bridge;i.registerHandler("returnBackHandler",function(i,o){"function"==typeof e&&e.apply(r,n),o(t)})},JsBridge.prototype.getShareParamHandler=function(t){var r=this.bridge;r.registerHandler("getShareParamHandler",function(r,e){e(t)})},JsBridge.prototype.barNavBtn=function(t){var r=this.bridge;r.callHandler("barNavBtn",t,function(t){})},JsBridge.prototype.callShareAction=function(){var t=this.bridge;t.callHandler("callShareAction",null,function(t){})},JsBridge.prototype.barNavBtnHandler=function(t,r){var e=Array.prototype.slice.call(arguments,2),n=this.bridge;n.registerHandler("barNavBtnHandler",function(n,i){"string"==typeof n&&(n=JSON.parse(n)),"function"==typeof r&&r.apply(t,Array.prototype.concat(n,e))})},JsBridge.prototype.modalHandler=function(t,r){var e=Array.prototype.slice.call(arguments,2),n=this.bridge;n.registerHandler("modalHandler",function(n,i){"string"==typeof n&&(n=JSON.parse(n)),"function"==typeof r&&r.apply(t,Array.prototype.concat(n,e));var o={};o.value=0,o.modalId="modal",i(o)})},JsBridge.prototype.singleImageBefore=function(t,r){var e=Array.prototype.slice.call(arguments,2),n=this.bridge;n.registerHandler("singleImageBefore",function(n,i){"string"==typeof n&&(n=JSON.parse(n)),"function"==typeof r&&r.apply(t,Array.prototype.concat(n,e)),i(null)})},JsBridge.prototype.singleImageBack=function(t,r){var e=Array.prototype.slice.call(arguments,2),n=this.bridge;n.registerHandler("singleImageBack",function(n,i){"string"==typeof n&&(n=JSON.parse(n)),"function"==typeof r&&r.apply(t,Array.prototype.concat(n,e)),i(null)})},JsBridge.prototype.modal=function(t){var r=this.bridge;r.callHandler("modal",t,function(t){})},JsBridge.prototype.thirdPartyPageNotify=function(t){var r=this.bridge;r.callHandler("thirdPartyPageNotify",t,function(t){})},JsBridge.prototype.getCurrentPosition=function(t,r){var e=Array.prototype.slice.call(arguments,2),n=this.bridge;n.callHandler("getCurrentPosition",null,function(n){"string"==typeof n&&(n=JSON.parse(n)),"function"==typeof r&&r.apply(t,Array.prototype.concat(n,e))})},JsBridge.prototype.callForNetworkState=function(t,r){var e=Array.prototype.slice.call(arguments,2),n=this.bridge;n.callHandler("callForNetworkState",null,function(n){"string"==typeof n&&(n=JSON.parse(n)),"function"==typeof r&&r.apply(t,Array.prototype.concat(n,e))})},JsBridge.prototype.getUserToken=function(t,r,e){var n=Array.prototype.slice.call(arguments,3),i=this,o=this.bridge;o.callHandler("getUserToken",null,function(o){return"string"==typeof o&&(o=JSON.parse(o)),null==o?void i.login(t):(o.triggerId=t,void("function"==typeof e&&e.apply(r,Array.prototype.concat(o,n))))})},JsBridge.prototype.navi=function(t,r,e){var n=Array.prototype.slice.call(arguments,3),i=this.bridge;i.callHandler("navi",t,function(t){"string"==typeof t&&(t=JSON.parse(t)),"function"==typeof e&&e.apply(r,Array.prototype.concat(t,n))})},JsBridge.prototype.getPhoneCall=function(t,r,e){var n=Array.prototype.slice.call(arguments,3),i=this.bridge;i.callHandler("getPhoneCall",t,function(t){"string"==typeof t&&(t=JSON.parse(t)),"function"==typeof e&&e.apply(r,Array.prototype.concat(t,n))})},JsBridge.prototype.selectSingleImage=function(t,r,e){var n=Array.prototype.slice.call(arguments,3),i=this.bridge;i.callHandler("selectSingleImage",t,function(t){"string"==typeof t&&(t=JSON.parse(t)),"function"==typeof e&&e.apply(r,Array.prototype.concat(t,n))})},JsBridge.prototype.init=function(){this.returnBackHandler({isFirstPage:!0})},function(t){t.jsBridgeInit=function(t,r){var e=Array.prototype.slice.call(arguments,2),n=/(?:(?:XmddApp\()(?:\w+)|(?:Xmdd))+[\/]{0,1}([\d.]+)(?:\))?/i;n.test(navigator.userAgent)?connectWebViewJavascriptBridge(function(n){"function"==typeof r&&r.apply(t,Array.prototype.concat(new JsBridge(n),e))}):r.apply(t,Array.prototype.concat(void 0,e))}}(jQuery);